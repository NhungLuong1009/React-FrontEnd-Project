(this["webpackJsonpfrontend-project"]=this["webpackJsonpfrontend-project"]||[]).push([[0],{100:function(t,e,a){},60:function(t,e,a){"use strict";a(74);var n=a(0),c=a(22),i=a(7),s=a(19),r=a(31),o=a(32),l=a(14),u=a(39),d=a(37),h=a(33),b=a.n(h),m=a(61),j=(a(93),a(3)),f=function(t){var e=t.searchDefault,a=t.update,c=t.searchError,i=Object(n.useState)(e),s=Object(m.a)(i,2),r=s[0],o=s[1];return Object(j.jsxs)("div",{className:"header-wrapper",children:[Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"Reddits"})}),Object(j.jsxs)("div",{className:"search",children:[Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault(),a(r)},children:["Topic:",Object(j.jsx)("input",{type:"text",value:r,onChange:function(t){o(t.target.value)},onFocus:function(){return o("")}})]}),Object(j.jsx)("span",{className:"search-error",children:c})]})]})},y=(a(95),a(119)),S=(Object(y.a)((function(t){return{root:{width:"100%",maxWidth:360,backgroundColor:t.palette.background.paper}}})),function(t){Object(u.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(r.a)(this,a),(n=e.call(this,t)).state={mySelectedData:[],myFetchData:[],myCleanFetchData:[],myCleanData:[],sortKeyword:"hot",subKeyword:"All",isChecked:!1},n.selectData=n.selectData.bind(Object(l.a)(n)),n.insertData=n.insertData.bind(Object(l.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(l.a)(n)),n.fetchInitalData=n.fetchInitalData.bind(Object(l.a)(n)),n.fetchDataWithNewSortKeyword=n.fetchDataWithNewSortKeyword.bind(Object(l.a)(n)),n.getLastSearchKeyWord=n.getLastSearchKeyWord.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"selectData",value:function(t,e){var a=this;if(t.target.checked)e&&this.setState({mySelectedData:[].concat(Object(s.a)(this.state.mySelectedData),[e])},(function(){}));else{this.state.mySelectedData.map((function(t,a){t==e&&(t.isChecked=!1)}));var n=this.state.mySelectedData.filter((function(t){return JSON.parse(t).title!==JSON.parse(e).title}));this.setState({mySelectedData:n},(function(){console.log(a.state.mySelectedData)}))}}},{key:"insertData",value:function(t){t&&this.setState({myCleanFetchData:[].concat(Object(s.a)(this.state.myCleanFetchData),[{title:t.data.title,thumbnail:t.data.thumbnail,isChecked:!1}])},(function(){}))}},{key:"fetchInitalData",value:function(){var t=this;console.log(this.state.subKeyword),b.a.get("https://www.reddit.com/r/".concat(this.state.subKeyword,"/").concat(this.state.sortKeyword,".json?limit=10")).then((function(e){t.setState({myFetchData:e.data.data.children})})).then((function(){t.state.myFetchData.map((function(e,a){t.insertData(e)}));var e=JSON.parse("["+localStorage.getItem("myValueInLocalStorage")+"]");0==t.state.mySelectedData.length&&null!==e[0]&&e.map((function(e,a){t.setState({mySelectedData:[].concat(Object(s.a)(t.state.mySelectedData),[JSON.stringify(e)])},(function(){}))}))}))}},{key:"fetchDataWithNewSortKeyword",value:function(){var t=this;b.a.get("https://www.reddit.com/r/".concat(this.state.subKeyword,"/").concat(this.state.sortKeyword,".json?limit=10")).then((function(e){t.setState({myFetchData:e.data.data.children},(function(){t.setState({myCleanFetchData:[]},(function(){setTimeout((function(){t.state.myFetchData.map((function(e,a){t.setState({myCleanFetchData:[].concat(Object(s.a)(t.state.myCleanFetchData),[{title:e.data.title,thumbnail:e.data.thumbnail,isChecked:!1}])})}))}),0)}))}))}))}},{key:"getLastSearchKeyWord",value:function(){var t=this;this.setState({subKeyword:localStorage.getItem("lastSearchKeyWord")},(function(){console.log(t.state.subKeyword)}))}},{key:"componentDidMount",value:function(){var t=this;this.getLastSearchKeyWord(),setTimeout((function(){t.fetchInitalData()}))}},{key:"componentDidUpdate",value:function(){}},{key:"handleSubmit",value:function(t){localStorage.setItem("myValueInLocalStorage",this.state.mySelectedData)}},{key:"render",value:function(){var t=this,e=this.state.myCleanFetchData;console.log(e);var a=localStorage.getItem("lastSearchKeyWord");return Object(j.jsxs)("div",{children:[Object(j.jsx)(f,{searchDefault:a,update:function(e){return t.setState({subKeyword:e},(function(){t.fetchDataWithNewSortKeyword(),localStorage.setItem("lastSearchKeyWord",t.state.subKeyword)}))}}),Object(j.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(j.jsx)("ul",{children:null!==e.length&&e.map((function(e,a){return t.state.mySelectedData.filter((function(t){return JSON.parse(t).title==e.title})).length>0?e.isChecked=!0:e.isChecked=!1,Object(j.jsxs)("li",{children:[Object(j.jsx)("img",{src:e.thumbnail}),Object(j.jsx)("input",{type:"checkbox",value:JSON.stringify(e),checked:e.isChecked,onChange:function(a){return t.selectData(a,JSON.stringify({title:e.title,thumbnail:e.thumbnail,isChecked:e.isChecked}))}}),Object(j.jsx)("span",{className:"GetReddits__title",children:e.title}),Object(j.jsx)("br",{})]},a)}))}),Object(j.jsx)("input",{type:"submit",value:"Add to Favorite"})]}),Object(j.jsx)(c.b,{to:"/favReddits",children:"Favorite reddits"})]})}}]),a}(n.Component)),O=(a(100),a(121)),D=a(126),p=a(123),v=a(128),g=a(122),x=a(125),C=a(127),k=a(124),w=function(t){Object(u.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(r.a)(this,a),(n=e.call(this,t)).useStyles=Object(y.a)((function(t){return{root:{width:"100%",maxWidth:360,backgroundColor:t.palette.background.paper}}})),n.state={mySelectedData:[],myCleanData:[]},n.selectData=n.selectData.bind(Object(l.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"selectData",value:function(t,e){if(t.target.checked){if(e){var a=this.state.myCleanData.filter((function(t){return JSON.parse(t).title!==JSON.parse(e).title}));this.setState({myCleanData:a},(function(){}))}}else this.setState({myCleanData:[].concat(Object(s.a)(this.state.myCleanData),[e])},(function(){}))}},{key:"componentDidMount",value:function(){var t=this;this.timerID=setInterval((function(){var e=JSON.parse("["+localStorage.getItem("myValueInLocalStorage")+"]");0==t.state.mySelectedData.length&&null!==e[0]&&e.map((function(e,a){t.setState({mySelectedData:[].concat(Object(s.a)(t.state.mySelectedData),[JSON.stringify(e)])},(function(){})),t.setState({myCleanData:[].concat(Object(s.a)(t.state.myCleanData),[JSON.stringify(e)])},(function(){}))}))}),0)}},{key:"handleSubmit",value:function(t){localStorage.setItem("myValueInLocalStorage",this.state.myCleanData),console.log(this.state.myCleanData),this.setState({mySelectedData:this.state.myCleanData},(function(){}))}},{key:"render",value:function(){var t=this,e=this.state.mySelectedData;return Object(j.jsxs)("div",{className:"favReddits__container",children:[Object(j.jsx)(c.b,{to:"/",children:"List all reddits"}),Object(j.jsxs)("form",{children:[Object(j.jsx)(O.a,{dense:!0,className:a.root,children:null!==e.length&&e.map((function(e,a){var n="checkbox-list-secondary-label-".concat(a);return Object(j.jsxs)(D.a,{button:!0,children:[Object(j.jsx)(g.a,{children:Object(j.jsx)(C.a,{alt:"Avatar n\xb0".concat(JSON.parse(e).title+1),src:JSON.parse(e).thumbnail})}),Object(j.jsx)(v.a,{id:n,primary:JSON.parse(e).title}),Object(j.jsx)(p.a,{children:Object(j.jsx)(x.a,{edge:"end",onChange:function(a){return t.selectData(a,e)}})})]},a)}))}),Object(j.jsx)(k.a,{onClick:function(e){return t.handleSubmit(e)},variant:"contained",color:"primary",disableElevation:!0,children:"Delete favorite post(s)"})]})]})}}]),a}(n.Component);e.a=function(){return Object(j.jsx)(c.a,{children:Object(j.jsxs)("div",{children:[Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{exact:!0,path:"/",component:S}),Object(j.jsx)(i.a,{exact:!0,path:"/favReddits",component:w})]}),Object(j.jsx)("div",{className:"app-bottom"})]})})}},63:function(t,e,a){"use strict";a.r(e),function(t){var e=a(0),n=a.n(e),c=a(20),i=a.n(c),s=(a(73),a(60)),r=a(3);t.BASE_URL="https://www.reddit.com/r",t.SUB_LIMIT=10,i.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(s.a,{})}),document.getElementById("root"))}.call(this,a(50))},73:function(t,e,a){},74:function(t,e,a){},93:function(t,e,a){},95:function(t,e,a){}},[[63,1,2]]]);
//# sourceMappingURL=main.c21d7650.chunk.js.map